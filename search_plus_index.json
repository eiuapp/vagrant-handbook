{"./":{"url":"./","title":"前言","keywords":"","body":"Vagrant Handbook 此书是 Vagrant 实践笔记。 在线访问地址：https://eiuapp.github.io/vagrant-handbook 有任何问题，请提 issue Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/fenbox-vagrantfile-note.html":{"url":"docs/fenbox-vagrantfile-note.html","title":"安装示例","keywords":"","body":"https://eiuapp.github.io/fenbox-vagrantfile-handbook Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/change-vagrant_home-directory-windows.html":{"url":"docs/change-vagrant_home-directory-windows.html","title":"windows下切换vagrant_home目录","keywords":"","body":"step 管理员打开 cmd C:\\Windows\\system32>setx VAGRANT_HOME \"E:\\ProgramFiles\\VagrantHome\" 成功: 指定的值已得到保存。 C:\\Windows\\system32>set VAGRANT_HOME 环境变量 VAGRANT_HOME 没有定义 C:\\Windows\\system32>set path Path=C:\\Program Files (x86)\\Common Files\\NetSarang;C:\\ProgramData\\Oracle\\Java\\ja vapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System 32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Calib re2\\;C:\\HashiCorp\\Vagrant\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\ming w64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\tony\\Anaconda;C:\\Users\\tony\\Anacon da\\Scripts;C:\\Wind\\Wind.NET.Client\\WindNET\\bin\\;C:\\Users\\tony\\AppData\\Roaming\\np m;C:\\Program Files\\nodejs\\node.exe;C:\\Program Files (x86)\\Microsoft VS Code\\bin PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC C:\\Windows\\system32>setx VAGRANT_HOME \"E:\\ProgramFiles\\VagrantHome\" 成功: 指定的值已得到保存。 C:\\Windows\\system32>set VAGRANT_HOME 环境变量 VAGRANT_HOME 没有定义 C:\\Windows\\system32> 这时，要关闭此cmd窗口，然后打开一个新的cmd窗口。 C:\\Users\\tony>set path Path=C:\\Program Files (x86)\\Common Files\\NetSarang;C:\\ProgramData\\Oracle\\Java\\ja vapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System 32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Calib re2\\;C:\\HashiCorp\\Vagrant\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\ming w64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\tony\\Anaconda;C:\\Users\\tony\\Anacon da\\Scripts;C:\\Wind\\Wind.NET.Client\\WindNET\\bin\\;C:\\Users\\tony\\AppData\\Roaming\\np m;C:\\Program Files\\nodejs\\node.exe;C:\\Program Files (x86)\\Microsoft VS Code\\bin PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC C:\\Users\\tony>set vagrant_home VAGRANT_HOME=E:\\ProgramFiles\\VagrantHome C:\\Users\\tony> ref https://harvsworld.com/2014/change-vagrant_home-directory-windows/ Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/virtualbox-install-path.html":{"url":"docs/virtualbox-install-path.html","title":"我的安装后 virtualbox 目录","keywords":"","body":"F:\\VirtualBoxVMs\\ud16.04.5-basic\\Snapshots C:\\Users\\DELL.docker\\machine\\machines\\default\\default\\Snapshots F:\\VirtualBoxVMs\\vagrant_ubuntu18_vb\\Snapshots Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/solaris-install-nginx.html":{"url":"docs/solaris-install-nginx.html","title":"使用solaries安装编译nginx","keywords":"","body":"D:\\迅雷下载 λ vagrant.exe box add solaris10-minimal-version0.0.1 .\\tnarik-boxes-solaris10-minimal-versions0.0.1.box ==> box: Box file was not detected as metadata. Adding it directly... ==> box: Adding box 'solaris10-minimal-version0.0.1' (v0) for provider: box: Unpacking necessary files from: file://D:/%D1%B8%C0%D7%CF%C2%D4%D8/tnarik-boxes-solaris10-minimal-versions0.0.1.box box: Progress: 100% (Rate: 37.8M/s, Estimated time remaining: --:--:--) ==> box: Successfully added box 'solaris10-minimal-version0.0.1' (v0) for 'virtualbox'! D:\\迅雷下载 λ vagrant box list solaris10-minimal-version0.0.1 (virtualbox, 0) D:\\迅雷下载 λ Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/usage.html":{"url":"docs/usage.html","title":"常见用法","keywords":"","body":"如何skip配置而直接安装mysql server https://unix.stackexchange.com/questions/147261/installing-mysql-server-in-vagrant-bootstrap-shell-script-how-to-skip-setup Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/host-access-to-vagrant.html":{"url":"docs/host-access-to-vagrant.html","title":"本机访问vagrant端口","keywords":"","body":"让本机访问vagrant端口 step 方法1 端口转发 vagrant 在vagrangfile里面取消了public access的备注 使用bridge 模式 ref https://www.v2ex.com/t/86454 Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/vagrant-box-ssh-login.html":{"url":"docs/vagrant-box-ssh-login.html","title":"通过 ssh 登录 vagrant box","keywords":"","body":"如何通过 ssh 登录 vagrant box 得到 ssh-config D:\\vag-files\\ubuntu16 λ vagrant ssh-config WARNING: Vagrant has detected the `vagrant-triggers` plugin. This plugin conflicts with the internal triggers implementation. Please uninstall the `vagrant-triggers` plugin and run the command again if you wish to use the core trigger feature. To uninstall the plugin, run the command shown below: vagrant plugin uninstall vagrant-triggers Note that the community plugin `vagrant-triggers` and the core trigger feature in Vagrant do not have compatible syntax. To disable this warning, set the environment variable `VAGRANT_USE_VAGRANT_TRIGGERS`. Host default HostName 127.0.0.1 User vagrant Port 2222 UserKnownHostsFile /dev/null StrictHostKeyChecking no PasswordAuthentication no IdentityFile D:/vag-files/ubuntu16/.vagrant/machines/default/virtualbox/private_key IdentitiesOnly yes LogLevel FATAL D:\\vag-files\\ubuntu16 ssh 必须带上 IdentityFile λ ssh vagrant@127.0.0.1 -p 2222 The authenticity of host '[127.0.0.1]:2222 ([127.0.0.1]:2222)' can't be established. ECDSA key fingerprint is SHA256:/2ppXijFcqY4ls2N3vmB7tCec39reYLq3wFASj1yujM. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added '[127.0.0.1]:2222' (ECDSA) to the list of known hosts. vagrant@127.0.0.1: Permission denied (publickey). D:\\vag-files\\ubuntu16 λ ssh vagrant@127.0.0.1 -p 2222 -i D:/vag-files/ubuntu16/.vagrant/machines/default/virtualbox/private_key Welcome to Ubuntu 16.04.6 LTS (GNU/Linux 4.4.0-145-generic x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage Get cloud support with Ubuntu Advantage Cloud Guest: http://www.ubuntu.com/business/services/cloud 12 packages can be updated. 2 updates are security updates. New release '18.04.2 LTS' available. Run 'do-release-upgrade' to upgrade to it. Last login: Fri Apr 19 06:30:08 2019 from 10.0.2.2 vagrant@ubuntu-xenial:~$ exit logout Connection to 127.0.0.1 closed. D:\\vag-files\\ubuntu16 Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/change-default-ssh-forward-port-in-vagrant.html":{"url":"docs/change-default-ssh-forward-port-in-vagrant.html","title":"Vagrant更改默认的SSH端口","keywords":"","body":"Vagrant更改默认的SSH端口 通过学习，知道在 vagrantfile 中添加 config.vm.network \"forwarded_port\", guest: 222, host: 3333 D:\\vag-files\\ubuntu16 λ vagrant up Bringing machine 'default' up with 'virtualbox' provider... ==> default: Clearing any previously set forwarded ports... ==> default: Clearing any previously set network interfaces... ==> default: Preparing network interfaces based on configuration... default: Adapter 1: nat default: Adapter 2: bridged ==> default: Forwarding ports... default: 222 (guest) => 2222 (host) (adapter 1) default: 22 (guest) => 2222 (host) (adapter 1) ==> default: Running 'pre-boot' VM customizations... ==> default: Booting VM... ==> default: Waiting for machine to boot. This may take a few minutes... default: SSH address: 127.0.0.1:2222 default: SSH username: vagrant default: SSH auth method: private key default: Warning: Connection reset. Retrying... default: Warning: Connection aborted. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... default: Warning: Authentication failure. Retrying... Timed out while waiting for the machine to boot. This means that Vagrant was unable to communicate with the guest machine within the configured (\"config.vm.boot_timeout\" value) time period. If you look above, you should be able to see the error(s) that Vagrant had when attempting to connect to the machine. These errors are usually good hints as to what may be wrong. If you're using a custom box, make sure that networking is properly working and you're able to connect to the machine. It is a common problem that networking isn't setup properly in these boxes. Verify that authentication configurations are also setup properly, as well. If the box appears to be booting properly, you may want to increase the timeout (\"config.vm.boot_timeout\") value. D:\\vag-files\\ubuntu16 不行，然后搜索到： https://tlanyan.me/change-default-ssh-forward-port-in-vagrant/ config.vm.network \"forwarded_port\", guest: 22, host: 2222, id: \"ssh\", disabled: \"true\" config.vm.network \"forwarded_port\", guest: 222, host: 3333 D:\\vag-files\\ubuntu16 λ vagrant up Bringing machine 'default' up with 'virtualbox' provider... ==> default: Clearing any previously set forwarded ports... ==> default: Clearing any previously set network interfaces... ==> default: Preparing network interfaces based on configuration... default: Adapter 1: nat default: Adapter 2: bridged ==> default: Forwarding ports... default: 222 (guest) => 3333 (host) (adapter 1) ==> default: Running 'pre-boot' VM customizations... ==> default: Booting VM... ==> default: Waiting for machine to boot. This may take a few minutes... default: SSH address: 127.0.0.1:22 default: SSH username: vagrant default: SSH auth method: private key Timed out while waiting for the machine to boot. This means that Vagrant was unable to communicate with the guest machine within the configured (\"config.vm.boot_timeout\" value) time period. If you look above, you should be able to see the error(s) that Vagrant had when attempting to connect to the machine. These errors are usually good hints as to what may be wrong. If you're using a custom box, make sure that networking is properly working and you're able to connect to the machine. It is a common problem that networking isn't setup properly in these boxes. Verify that authentication configurations are also setup properly, as well. If the box appears to be booting properly, you may want to increase the timeout (\"config.vm.boot_timeout\") value. D:\\vag-files\\ubuntu16 λ 观察到，vm是启动起来了。 D:\\vag-files\\ubuntu16 λ vagrant ssh-config Host default HostName 127.0.0.1 User vagrant Port 22 UserKnownHostsFile /dev/null StrictHostKeyChecking no PasswordAuthentication no IdentityFile D:/vag-files/ubuntu16/.vagrant/machines/default/virtualbox/private_key IdentitiesOnly yes LogLevel FATAL D:\\vag-files\\ubuntu16 λ ssh -i D:/vag-files/ubuntu16/.vagrant/machines/default/virtualbox/private_key -p 3333 vagrant@localhost Welcome to Ubuntu 16.04.6 LTS (GNU/Linux 4.4.0-145-generic x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage Get cloud support with Ubuntu Advantage Cloud Guest: http://www.ubuntu.com/business/services/cloud 10 packages can be updated. 0 updates are security updates. New release '18.04.2 LTS' available. Run 'do-release-upgrade' to upgrade to it. Last login: Tue Apr 23 06:04:00 2019 from 10.0.2.2 vagrant@ubuntu-xenial:~$ 可以登录成功的 ref https://tlanyan.me/change-default-ssh-forward-port-in-vagrant/ Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/vagrant-add-vm-harddisk-size.html":{"url":"docs/vagrant-add-vm-harddisk-size.html","title":"Vagrant增加硬盘容量实践记录","keywords":"","body":"vagrant 增加硬盘容量实践记录 https://www.jianshu.com/p/b1acd5d8d53e 严格来说,这篇文章,应该属于virtualbox env os: windows10 virtualbox: 6.0 powershell: 管理员权限打开 找到 VM 所在文件夹. 管理/全局设置/默认虚拟电脑位置 打开virtualbox面板, 点击vm, 设置,存储,选中,明细,位置 C:\\Program Files\\soft\\cmder λ cd 'C:\\Users\\a\\VirtualBox VMs\\ubuntu16_default_1555655333404_65452\\' C:\\Users\\a\\VirtualBox VMs\\ubuntu16_default_1555655333404_65452警告: Missing git support, install posh-git with 'Install-Module posh-git' and restart cmder. PS>ls 目录: C:\\Users\\a\\VirtualBox VMs\\ubuntu16_default_1555655333404_65452 Mode LastWriteTime Length Name ---- ------------- ------ ---- d----- 2019/4/29 18:08 Logs d----- 2019/4/20 11:47 Snapshots -a---- 2019/4/29 18:08 196608 ubuntu-xenial-16.04-cloudimg-configdrive.vmdk -a---- 2019/4/30 8:23 10298523648 ubuntu-xenial-16.04-cloudimg.vmdk -a---- 2019/4/29 18:09 7596 ubuntu16_default_1555655333404_65452.vbox -a---- 2019/4/29 18:08 6804 ubuntu16_default_1555655333404_65452.vbox-prev 确保 VBoxManage 命令可用 如果在有安装VIRTUALBOX的情况下,而没有找到VBoxManage命令,是因为没有把此命令加入到环境变量. https://www.jianshu.com/p/a665cf386b0e 在 powershell 下, VBoxManage --help 执行改格式的命令 PS>VBoxManage clonehd \"ubuntu-xenial-16.04-cloudimg.vmdk\" \"ubuntu-xenial-16.04-cloudimg.vdi\" --format vdi 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% Clone medium created in format 'vdi'. UUID: 406ede3a-b9d8-4b60-9675-893eb9141145 C:\\Users\\a\\VirtualBox VMs\\ubuntu16_default_1555655333404_65452警告: Missing git support, install posh-git with 'Install-Module posh-git' and restart cmder. resize 单位为M，20480即为20G PS>VBoxManage modifyhd \"ubuntu-xenial-16.04-cloudimg.vdi\" --resize 40960 0%...10%...20%...30%...40%...50%...60%...70%...80%...90%...100% C:\\Users\\a\\VirtualBox VMs\\ubuntu16_default_1555655333404_65452警告: Missing git support, install posh-git with 'Install-Module posh-git' and restart cmder. PS> 重新挂载 ubuntu16_default_1555655333404_65452是文件夹名,或者说是VM名 PS>VBoxManage storageattach ubuntu16_default_1555655333404_65452 --storagectl \"SCSI\" --port 0 --device 0 --type hdd --medium ubuntu-xenial-16.04-cloudimg.vdi C:\\Users\\a\\VirtualBox VMs\\ubuntu16_default_1555655333404_65452警告: Missing git support, install posh-git with 'Install-Module posh-git' and restart cmder. --storagectl \"SCSI\" 根据不同的操作系统类型不通，常见的还有 \"SATA Contr\" vagrant up PS>cd D:\\vag-files\\ubuntu16\\ D:\\vag-files\\ubuntu16 λ vagrant up Bringing machine 'default' up with 'virtualbox' provider... ==> default: Clearing any previously set forwarded ports... ==> default: Clearing any previously set network interfaces... ==> default: Preparing network interfaces based on configuration... default: Adapter 1: nat default: Adapter 2: bridged ==> default: Forwarding ports... default: 222 (guest) => 3333 (host) (adapter 1) default: 2376 (guest) => 2375 (host) (adapter 1) ==> default: Running 'pre-boot' VM customizations... ==> default: Booting VM... ==> default: Waiting for machine to boot. This may take a few minutes... default: SSH address: 127.0.0.1:22 default: SSH username: vagrant default: SSH auth method: private key D:\\vag-files\\ubuntu16 λ ==> default: Waiting for cleanup before exiting... Vagrant exited after cleanup due to external interrupt. D:\\vag-files\\ubuntu16 通过 du -h 查看. Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "},"docs/note-about-vagrant.html":{"url":"docs/note-about-vagrant.html","title":"日志","keywords":"","body":"Vagrant box add 命令加载过慢最简单的处理方式 https://www.jianshu.com/p/f569d687d1e2 https://www.jianshu.com/p/b9f5bf8b7f27 https://www.k-dou.com/2018/06/08/26.html https://juejin.im/post/5a769057f265da4e8700a34a https://www.vagrantup.com/ https://www.k-dou.com/2018/06/08/26.html https://zhuanlan.zhihu.com/p/34684496 http://www.vagrantbox.es/ 打开 如果 通过 privoxy 8118 打不开，则要通过 sock5 1080 打开。 官方镜像: https://app.vagrantup.com/boxes/search 更多镜像: http://www.vagrantbox.es/ https://app.vagrantup.com/bento/boxes/ubuntu-18.04/versions/201812.27.0/providers/virtualbox.box https://vagrantcloud.com/bento/boxes/ubuntu-18.04/versions/201812.27.0/providers/virtualbox.box Ceph实践指南 | Ceph实践指南点击关注【servicemesher】公众号回复【加群】加入学习群 | Copyright © eiuapp.github.io 2017-2019 all right reserved，powered by Gitbook Updated at 2019-04-30 09:10:09 "}}